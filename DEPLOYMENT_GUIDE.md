# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é –ò–ò –ì–æ–ª–æ—Å–æ–≤–æ–≥–æ –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞

## üìã –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (–≤–µ—Ä—Å–∏—è 2.0)

### üîí –°–∏—Å—Ç–µ–º–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Å–µ—Å—Å–∏–π
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: –¢–æ–ª—å–∫–æ 1 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏**: 5 –º–∏–Ω—É—Ç –Ω–∞ —Å–µ—Å—Å–∏—é
- **–°–∏—Å—Ç–µ–º–∞ –æ—á–µ—Ä–µ–¥–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–µ—Ä–µ–¥—å –ø—Ä–∏ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏
- **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞ 3, 2 –∏ 1 –º–∏–Ω—É—Ç—É –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è

### üê≥ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Docker
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã**: `docker-ops.sh` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
- **NPM-–∫–æ–º–∞–Ω–¥—ã**: `npm run docker:start`, `npm run docker:status` –∏ –¥—Ä.
- **Health Checks**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: Production-ready –æ–±—Ä–∞–∑ —Å Gzip –∏ CSP

## üê≥ –î–µ–ø–ª–æ–π —Å Docker

### 1. –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/your-username/voice-ai-assistant.git
cd voice-ai-assistant

# 2. –°–æ–∑–¥–∞–Ω–∏–µ .env.local
cp .env.example .env.local
# –û—Ç–∫—Ä–æ–π—Ç–µ .env.local –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à OPENAI_API_KEY

# 3. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
npm run docker:build
npm run docker:start
```

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–¥–æ–±–Ω—ã–µ `npm`-–∫–æ–º–∞–Ω–¥—ã:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
npm run docker:logs:follow

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∏ health-check
npm run docker:status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
npm run docker:restart

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
npm run docker:stop
```
**üìñ –ó–∞ –ø–æ–ª–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –∫–æ–º–∞–Ω–¥ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ [DOCKER_GUIDE.md](./DOCKER_GUIDE.md)**

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Nginx**:
   ```bash
   sudo apt update && sudo apt install nginx
   ```

2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**:
   ```bash
   sudo cp nginx.example.conf /etc/nginx/sites-available/your-domain.com
   sudo ln -s /etc/nginx/sites-available/your-domain.com /etc/nginx/sites-enabled/
   ```

3. **–ó–∞–º–µ–Ω–∏—Ç–µ –¥–æ–º–µ–Ω** –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
   ```bash
   sudo nano /etc/nginx/sites-available/your-domain.com
   # –ó–∞–º–µ–Ω–∏—Ç–µ 'your_domain.com' –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω
   ```

4. **–ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç**:
   ```bash
   sudo apt install certbot python3-certbot-nginx
   sudo certbot --nginx -d your-domain.com
   ```

5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx**:
   ```bash
   sudo nginx -t && sudo systemctl restart nginx
   ```

## üìä –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Å—Å–∏–π

```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Å—Å–∏–π
curl "https://your-domain.com/api/session?action=stats"

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π (—Ç—Ä–µ–±—É–µ—Ç ADMIN_TOKEN)
curl -X GET "https://your-domain.com/api/session?action=forceEndAll" \
     -H "x-admin-token: your-secret-admin-token"
```

### –õ–æ–≥–∏ Docker

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
docker-compose down && docker-compose up --build -d
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Å–µ—Å—Å–∏–∏

–û—Ç–∫—Ä–æ–π—Ç–µ `app/config/session-limits.ts` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ:

```typescript
export const SESSION_LIMITS = {
  MAX_SESSION_DURATION_MINUTES: 30, // –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 30 –º–∏–Ω—É—Ç
  // ...
}
```

### –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```typescript
export const USER_LIMITS = {
  MAX_CONCURRENT_USERS: 3, // –î–æ 3 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
  // ...
}
```

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï**: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º WebRTC –∏ –≤—ã—Å–æ–∫–æ–º—É —Ä–∞—Å—Ö–æ–¥—É —Ç–æ–∫–µ–Ω–æ–≤ OpenAI (~$0.06/–º–∏–Ω—É—Ç–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è).

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ firewall

```bash
# –†–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ HTTP/HTTPS
sudo ufw allow 80
sudo ufw allow 443
sudo ufw enable
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞—Å—Ö–æ–¥–æ–≤

- **OpenAI Realtime API**: ~$0.06/–º–∏–Ω—É—Ç–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ü—Ä–∏ 5 –º–∏–Ω—É—Ç–∞—Ö –Ω–∞ —Å–µ—Å—Å–∏—é**: ~$0.30 –∑–∞ —Å–µ—Å—Å–∏—é
- **100 —Å–µ—Å—Å–∏–π –≤ –¥–µ–Ω—å**: ~$30/–¥–µ–Ω—å

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ª–∏–º–∏—Ç—ã —Ä–∞—Å—Ö–æ–¥–æ–≤ –≤ –ø–∞–Ω–µ–ª–∏ OpenAI.

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "–°–µ—Å—Å–∏—è –∑–∞–Ω—è—Ç–∞" 

–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –∑–∞–≤–∏—Å —Å –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–µ–π:

```bash
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ—á–∏—â–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π
curl -X GET "https://your-domain.com/api/session?action=forceEndAll" \
     -H "x-admin-token: your-admin-token"

# –ò–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ Docker
docker-compose restart
```

### –í—ã—Å–æ–∫–∏–π —Ä–∞—Å—Ö–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤

1. –£–º–µ–Ω—å—à–∏—Ç–µ `MAX_SESSION_DURATION_MINUTES`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –∑–∞–≤–∏—Å—à–∏–µ —Å–µ—Å—Å–∏–∏
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `MAX_CONCURRENT_USERS: 1`

### WebRTC –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ HTTPS (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞)
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Nginx –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç WebSocket
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall (–ø–æ—Ä—Ç—ã 80, 443)

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ:

1. **–ù–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤** —Å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–º –Ω–∞–≥—Ä—É–∑–∫–∏
2. **Redis** –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–µ—Å—Å–∏–π –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏  
3. **WebSocket –∫–ª–∞—Å—Ç–µ—Ä** –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—á–µ—Ä–µ–¥–∏

---

**üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
- [OpenAI Realtime API](https://platform.openai.com/docs/guides/realtime)
- [Docker Compose](https://docs.docker.com/compose/)
- [Nginx Configuration](https://nginx.org/en/docs/)
- [Let's Encrypt Certbot](https://certbot.eff.org/)

**üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞:** –°–æ–∑–¥–∞–π—Ç–µ issue –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è –ø–æ–º–æ—â–∏. 